(function(e){function t(t){for(var n,c,s=t[0],o=t[1],u=t[2],f=0,p=[];f<s.length;f++)c=s[f],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},i=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},i=[],c={name:"App",data:function(){return{}}},s=c,o=a("2877"),u=a("6544"),l=a.n(u),f=a("7496"),p=a("f6c4"),d=Object(o["a"])(s,r,i,!1,null,null,null),m=d.exports;l()(d,{VApp:f["a"],VMain:p["a"]});var v=a("f309");n["a"].use(v["a"]);var h=new v["a"]({}),b=a("8c4f"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("v-row",{staticStyle:{"padding-top":"20px"},attrs:{align:"center",justify:"center"}},[a("h1",{staticClass:"display-4"},[e._v("Met toi bien frerot")])]),a("v-row",{staticStyle:{"padding-top":"100px"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"5"}},[a("v-card",{attrs:{elevation:"7"}},[a("v-card-title",[e._v(" Choisi un item ")]),a("v-card-actions",[a("v-autocomplete",{attrs:{"auto-select-first":"",clearable:"",items:e.items,"item-text":"name","search-input":e.itemRecherche,label:"Item",placeholder:"Recherche un item"},on:{"update:searchInput":function(t){e.itemRecherche=t},"update:search-input":function(t){e.itemRecherche=t},"click:clear":e.clearTable}},[a("div",{attrs:{slot:"prepend-item"},slot:"prepend-item"},[a("v-dialog",{attrs:{persitent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{text:"",block:""},on:{click:function(t){e.dialog=!0}}},"v-btn",r,!1),n),[e._v(" Ajouter item ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("AddItem",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)],1)])],1)],1)],1)],1),a("v-row",{staticStyle:{"padding-top":"50px"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"5"}},[this.itemRecherche?a("v-text-field",{attrs:{outlined:"",label:"Coefficient",rules:[e.reglesCoef.required,e.reglesCoef.counter],"prepend-inner-icon":"mdi-percent","append-icon":"mdi-content-save"},on:{"click:append":e.updateCoef},model:{value:e.coef,callback:function(t){e.coef=t},expression:"coef"}}):e._e(),a("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v(" Fermer ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" Coefficient enregistré ! ")])],1)],1),a("v-row",{staticStyle:{"padding-top":"100px"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.itemTable,"disable-pagination":"","hide-default-footer":!0},scopedSlots:e._u([{key:"item.prixUnit",fn:function(t){return[a("v-edit-dialog",{attrs:{large:"",persistent:""},on:{save:function(a){return e.save({prix:e.newPrix,caracName:t.item.caracName})}},scopedSlots:e._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 title"},[e._v("Changer le prix de la rune")]),a("v-text-field",{attrs:{hint:"Nouveau prix","single-line":"",autofocus:""},model:{value:e.newPrix,callback:function(t){e.newPrix=t},expression:"newPrix"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.prixUnit))])])]}}])})],1)],1)],1)],1)},x=[],y=a("2909"),k=a("b85c"),w=a("1da1"),C=(a("b0c0"),a("b64b"),a("99af"),a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",value:e.value,width:"1000"}},[a("v-card",{attrs:{"max-width":"1000"}},[a("v-card-title",[e._v("Ajouter un item")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"Nom",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._l(e.listCaracs,(function(t,n){return a("div",{key:n},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"18",md:"5"}},[a("v-autocomplete",{attrs:{"auto-select-first":"",clearable:"",items:e.items,label:"Caracteristique"},model:{value:t.caracName,callback:function(a){e.$set(t,"caracName",a)},expression:"carac.caracName"}})],1),a("v-col",{attrs:{cols:"18",md:"5"}},[a("v-text-field",{attrs:{label:"Valeur",required:""},model:{value:t.caracValue,callback:function(a){e.$set(t,"caracValue",a)},expression:"carac.caracValue"}})],1),a("v-col",{staticStyle:{"padding-top":"30px"},attrs:{cols:"18",md:"1"}},[a("v-btn",{attrs:{depressed:"",small:"",dark:""},on:{click:function(t){return e.removeCarac(n)}}},[a("v-icon",{attrs:{dark:"",left:""}},[e._v(" mdi-minus-circle ")]),e._v(" Retirer ")],1)],1)],1)],1)}))],2)],1),a("v-card-actions",[e.listCaracs.length>0?a("v-btn",{attrs:{color:"success"},on:{click:function(t){e.addItem(),e.$emit("input",!1)}}},[e._v("Ajouter l'item")]):e._e(),a("v-spacer"),a("v-btn",{on:{click:e.addCarac}},[e._v("Ajouter une caracteristique")]),a("v-spacer"),a("v-btn",{attrs:{elevation:"3",color:"error"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("Fermer")])],1)],1)],1)}),R=[],V=(a("a434"),a("d4ec")),j=a("bee2"),_=(a("d3b7"),a("bc3a")),P=a.n(_),O="/api/posts",A="/api/posts/coef",S=function(){function e(){Object(V["a"])(this,e)}return Object(j["a"])(e,null,[{key:"getRunes",value:function(){return new Promise((function(e,t){P.a.get(O).then((function(t){var a=t.data;e(a)})).catch((function(e){t(e)}))}))}},{key:"getAllEquipments",value:function(){return new Promise((function(e,t){P.a.get("https://fr.dofus.dofapi.fr/equipments").then((function(t){var a=t.data;e(a)})).catch((function(e){t(e)}))}))}},{key:"getAllWeapons",value:function(){return new Promise((function(e,t){P.a.get("https://fr.dofus.dofapi.fr/weapons").then((function(t){var a=t.data;e(a)})).catch((function(e){t(e)}))}))}},{key:"insertRune",value:function(e){return P.a.post(O,{text:e})}},{key:"getCoefs",value:function(){return new Promise((function(e,t){P.a.get(A).then((function(t){var a=t.data;e(a)})).catch((function(e){t(e)}))}))}},{key:"updateCoef",value:function(e){return P.a.post(A,{itemEtCoef:e})}}]),e}(),T=S,q={name:"add-item",props:["value"],methods:{addItem:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={},a["name"]=e.name,n=Object(k["a"])(e.listCaracs);try{for(n.s();!(r=n.n()).done;)i=r.value,c=i.caracName,s=i.caracValue,a[c]=s}catch(o){n.e(o)}finally{n.f()}return t.next=6,T.insertPost(a);case 6:case"end":return t.stop()}}),t)})))()},addCarac:function(){this.listCaracs.push({caracName:"",caracValue:""})},removeCarac:function(e){this.listCaracs.splice(e,1)}},data:function(){return{name:"",listCaracs:[],items:["PA","PM","Initiative","Vitalité","PO","Invocation","Prospection","Sagesse","Force","Intelligence","Chance","Agilité","Esquive PA","Esquive PM","Tacle","Fuite","Puissance","Dommages","Dommages Terre","Dommages Feu","Dommages Eau","Dommages Air","Dommages Neutre","Dommages distance","Dommages poussée","Dommages pièges","Dommages mêlée","Dommages sort","Pods","Critiques","Soins","Renvoi","Resistance Poussée","Resistance % Terre","Resistance % Feu","Resistance % Eau","Resistance % Air","Resistance % Neutre","Resistance fixe Terre","Resistance fixe Feu","Resistance fixe Eau","Resistance fixe Air","Resistance fixe Neutre","Esquive PA","Esquive PM","Retrait PA"]}}},I=q,D=a("c6a6"),N=a("8336"),E=a("b0af"),F=a("99d9"),M=a("62ad"),$=a("169a"),U=a("4bd4"),B=a("132d"),J=a("0fd9"),L=a("2fa4"),W=a("8654"),z=Object(o["a"])(I,C,R,!1,null,null,null),H=z.exports;l()(z,{VAutocomplete:D["a"],VBtn:N["a"],VCard:E["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:M["a"],VDialog:$["a"],VForm:U["a"],VIcon:B["a"],VRow:J["a"],VSpacer:L["a"],VTextField:W["a"]});var Q={components:{AddItem:H},data:function(){return{dialog:!1,itemRecherche:"",headers:[{text:"Caractéristique",value:"caracName"},{text:"Valeur",value:"caracValue"},{text:"Prix unitaire",value:"prixUnit"},{text:"Quantité (Focus)",value:"qt"},{text:"Prix (Focus)",value:"prix"},{text:"Aucun Focus",value:""}],itemTable:[],items:[],equipements:[],weapons:[],runesData:[],newPrix:0,coef:100,coefs:[],snackbar:!1,itemLevel:0,reglesCoef:{required:function(e){return!!e||"Nécessaire."},counter:function(e){return e.length<=3||"Max 3 caractères"}}}},methods:{clearTable:function(){this.itemTable=[]},save:function(e){var t=this,a=e.caracName,n=e.prix;T.insertRune({carac:a,prix:parseInt(n)}),this.getRunes().then((function(){t.displayItemStats(t.getItem(t.itemRecherche))}))},getRunes:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.getRunes();case 3:e.runesData=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getItem:function(e){var t,a=Object(k["a"])(this.items);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.name===e)return n}}catch(r){a.e(r)}finally{a.f()}},getRunePrix:function(e){var t,a=Object(k["a"])(this.runesData);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.carac===e)return n.prix}}catch(r){a.e(r)}finally{a.f()}},displayItemStats:function(e){this.itemTable=[];var t,a=Object(k["a"])(e.statistics);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=Object.keys(n),i=r[0],c=this.getRunePrix(i),s={caracName:i,caracValue:n[i].min,prixUnit:c};this.itemTable.push(s)}}catch(o){a.e(o)}finally{a.f()}},getCoefs:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.getCoefs();case 3:e.coefs=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},setCoef:function(e){var t,a=Object(k["a"])(this.coefs);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.nom===e&&(this.coef=n.coef)}}catch(r){a.e(r)}finally{a.f()}},updateCoef:function(){T.updateCoef({nom:this.itemRecherche,coef:parseInt(this.coef)}),this.getCoefs(),this.snackbar=!0}},watch:{coef:function(e){!e&&e.length>0&&this.getCoefs()},dialog:function(e){!e&&this.getItems()},itemRecherche:function(e){var t=this.getItem(e);void 0!==t&&(this.displayItemStats(t),this.setCoef(t.name),this.itemLevel=t.level)}},created:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.getAllEquipments();case 3:return e.equipements=t.sent,t.next=6,T.getAllWeapons();case 6:e.weapons=t.sent,e.items=[].concat(Object(y["a"])(e.equipements),Object(y["a"])(e.weapons)),e.items.sort(),e.getRunes(),e.getCoefs(),a=[],n=Object(k["a"])(e.items);try{for(n.s();!(r=n.n()).done;)i=r.value,a.push(i.name)}catch(c){n.e(c)}finally{n.f()}t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}},G=Q,K=a("8fea"),X=a("7679"),Y=a("2db4"),Z=Object(o["a"])(G,g,x,!1,null,null,null),ee=Z.exports;l()(Z,{VApp:f["a"],VAutocomplete:D["a"],VBtn:N["a"],VCard:E["a"],VCardActions:F["a"],VCardTitle:F["c"],VCol:M["a"],VDataTable:K["a"],VDialog:$["a"],VEditDialog:X["a"],VMain:p["a"],VRow:J["a"],VSnackbar:Y["a"],VTextField:W["a"]}),n["a"].use(b["a"]);var te=[{path:"/",name:"Home",component:ee}],ae=new b["a"]({routes:te}),ne=ae;n["a"].config.productionTip=!1,new n["a"]({vuetify:h,router:ne,render:function(e){return e(m)}}).$mount("#app")}});
//# sourceMappingURL=app.bda6c453.js.map